
% R=[-0.22162050008773804, 0.3258945047855377, -0.9190632104873657;
%    -0.9751330018043518, -0.07406647503376007, 0.20887747406959534;
%    2.4980255375339766e-07, 0.9425003528594971, 0.33420512080192566];
%        
% theta=atan2(-R(3,1),sqrt(R(3,2)^2+R(3,2)^2))
% roll=atan2(R(2,1)/cos(theta),R(1,1)/cos(theta))

%%
syms a b c real
syms r11 r12 r13 r21 r22 r23 r31 r32 r33 real
Rx=[1       0       0       ;
    0       +cos(a) -sin(a) ;
    0       +sin(a) +cos(a)];

Ry=[+cos(b) 0       +sin(b) ;
    0       1       0       ;
    -sin(b) 0       +cos(b)];

Rz=[+cos(c) -sin(c) 0       ;
    +sin(c) +cos(c) 0       ;
    0       0       1       ];

Rsym = [r11 r12 r13; r21 r22 r23; r31 r32 r33];

R=Rz*Ry*Rx
% R=Rx*Ry*Rz

eq11 = R(1,1) == r11;
eq12 = R(1,2) == r12;
eq13 = R(1,3) == r13;
eq21 = R(2,1) == r21;
eq22 = R(2,2) == r22;
eq23 = R(2,3) == r23;
eq31 = R(3,1) == r31;
eq32 = R(3,2) == r32;
eq33 = R(3,3) == r33;

sol = solve(
% eq = R==Rsym;
% 
% sol = solve(eq,a);
% 
% simplify(sol,'Steps',1000);
% pretty(sol)
